Exception Handling 
	1. per method
	2. per controller
	3. global

JMETER:

create TESTPLAN - upon which you can configure all other components.
Cretae TESTGROUP - simulates the number of users and the time interval in which they hit the request.
create SAMPLER = where you configure details of which page url, port hostname to hit.
create LISTENER = listener will show the request, response for the sampler - view result in table view result in result Tree.

assertions:
1.	response
2.	duration
3.	size
4.	html
5.	xml
6.	xpath

listeners:
view results in graph
view results in tree 
view results in table
aggregate reports
summary report 
simpleData writer
table EXTERNAL_SERVICE_DETAILS
	msmt_time
	request_Date
	eg_guid
	request_type
	node_order
	details
	sql_calls
	sql_time
	ext_hash
table BTM_SQL_DETAILS
	msmt_time
	ext_hash
	call_type
	host_ip
	port_no
	db_type
	db_name
	call_graph_id
	table_name
	query_type
	error_details
	exe_time
	query_hash
BTM_SQL_QUERIES
	msmt_time
	query_hash
	query
	
	
joint Table
	msmt_time
	request_Date
	eg_guid
	request_type
	node_order
	details
	sql_calls
	sql_time
	ext_hash
	
	msmt_time
	ext_hash
	call_type
	host_ip
	port_no
	db_type
	db_name
	call_graph_id
	table_name
	query_type
	error_details
	exe_time
	query_hash
	
	msmt_time
	query_hash
	query
	
	MSMT_TIME
	REQUEST_DATE
	EG_GUID
	REQUEST_TYPE
	NODE_ORDER
	DETAILS
	SQL_CALLS
	SQL_TIME
	EXT_HASH
	
	MSMT_TIME
	EXT_HASH
	CALL_TYPE
	HOST_IP
	PORT_NO
	DB_TYPE
	DB_NAME
	CALL_GRAPH_ID
	TABLE_NAME
	QUERY_TYPE
	ERROR_DETAILS
	EXE_TIME
	QUERY_HASH
	MSMT_TIME
	QUERY_HASH
	QUERY
	
	
======================================================================================================================================================
1.	How to enable JMX for different Application Server(Tomcat, Jetty, Jboss, WildFly, WebLogic, WebSphere) / Standalone Java Application / Spring Boot application ?

2.	How to enable BTM for the different Application Server / Standalone Java Application / Spring Boot application ?

3.	How to connect through jconsole/jvisualvm for the specific JVM and see the metrics needed.

4.	How to Configure them with eG Monitoring

5.	How to ensure that JMX or BTM is enabled successfully or not. 

6.	How to troubleshoot if JMX or BTM  is not enabled.

7. Agent based and Agent less configuration to troubleshoot which agent is running the test. 

8. How to enable Agent logs and Manager logs for all OS. 

9. How to troubleshoot if there are no metric received for the component. 
                (a)  - Is the correct agent is running the tests.
                (b)  - Test ran successfully and measure sent to Manager or Not. 
                (c)  - Is the data is sent to Manager successfully or still waiting in the data folder ? 

Steps to enable EG_btm in docker container:
	1. copy curl file into the containers /var/lib/docker/overlay2/5fea6e649d3058fa8b1d1d5e17b8678e3361d33f361fbf1fdc9150f82dd2600e/merged/bin.
	2. Edit the catalina.sh file inside 5fea6e649d3058fa8b1d1d5e17b8678e3361d33f361fbf1fdc9150f82dd2600e\merged\usr\local\tomcat\bin\catalina.sh JAVA_OPTS="$JAVA_OPTS $JSSE_OPTS -javaagent:/javaagent/eg_btm.jar"
	3. docker inspect -f '{{ .GraphDriver.Data.MergedDir }}' d1ee24b830eb command gives the winscp path for the container Id.
	4. First Start the container as linux box and make the above changes and start the startup.sh file.
	
Dynamic-Attach:
	move tools.jar to /usr/lib/jvm/java-7-openjdk-amd64/jre/lib
	then cd to the agent directory
	then run the eG_Java_BTM_DynamicAttach.sh file whith command to change the permission before executing the shell file.
	
	munishmehta/spring-petclinic
	arey/springboot-
	kubectl apply -f https://k8s.io/examples/controllers/nginx-deployment.yaml
	The Deployment "my-app2" is invalid: spec.template.metadata.labels: Invalid value: map[string]string{"run":"my-app2"}: `selector` does not match template `labels`
	
	kubeadm token create --print-join-command

The Deployment "my-app2" is invalid: spec.template.metadata.labels: Invalid value: map[string]string{"run":"my-app2-container1"}: `selector` does not match template `labels`
================================================================================================================================================================
How to install kubectl in windows and enable kubernetes Dashboard in that machine for the remote cluster.

1) go to kubernetes.io install kubectl on windows section: copy below link

	curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.16.0/bin/windows/amd64/kubectl.exe

2) run this and we will get a kubectl.exe file

3) Set environment variables for the exe file.

4) create .kube folder under users/username or %userprofile%. copy admin.conf from the master node /etc/kubernetes/admin.conf and rename it to config. All set you can now access nodes.

5) Start kubectl proxy and keep it running in the background

6) Now if you access http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/#/login you should be stopped for authorization the first time.

7) Now we have to create an admin account and bind it to rbac authorization.

8) Create dashboard-adminuser.yml file anywhere in the machine, this is just to create a service account. Run kubectl create -f dashboard-adminuser.yml
	apiVersion: v1
	kind: ServiceAccount
	metadata:
		name: admin-user
		namespace: kube-system
9) Create admin-role-binding.yml file and paste the following. Then run kubectl create -f admin-role-binding.yml.
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRoleBinding
    metadata:
      name: admin-user
    roleRef:
      apiGroup: rbac.authorization.k8s.io
      kind: ClusterRole
      name: cluster-admin
    subjects:
    - kind: ServiceAccount
      name: admin-user
      namespace: kube-system

10) Once role creation and role binding are done we can get the token to connect to the cluster. Run the following command.
	"kubectl describe secret admin-user-token-tmtb5 -n kube-system" - This will describe the contents of the admin token, copy the value in Data.token and paste the same in kubernetes-dashboard ui.

	kubectl delete deployment my-app-deployment
	kubectl delete service my-app-service
Example to Force create pod in a node and image pull policy
	apiVersion: v1
	kind: Pod
	metadata:
	  name: nginx
	spec:
	  nodeName: foo-node # schedule pod to specific node
	  containers:
	  - name: nginx
		image: nginx
		imagePullPolicy: IfNotPresent
Delete finalizers in pvc.
 kubectl patch pvc mysql-pvc -p '{"metadata":{"finalizers":null}}'

Send docker image from one machine to another machine 

docker save -o /envtesting.tar envtesting
scp /envtesting.tar  root@192.168.9.65:/

sshpass -p "egurkha@123" scp petclinic-calling-svc1.tar root@192.168.9.65:/
sshpass -p "egurkha" scp petclinic-calling-svc1.tar root@192.168.11.54:/

================================================================================================================================================================

1) install jenkins from .msi file, then use password from C:\Program Files (x86)\Jenkins\secrets\initialAdminPassword and login,
2) in configure jenkins option from menu enable security
3) Try creating new user(practice) from Jenkins -> Manage Jenkins -> Manage Users create new user
4) Jenkins -> Manage Jenkins -> Manage Plugins -> install Role-based Authorization Strategy
5) Jenkins -> Manage Jenkins -> Configure Global Security then select Role-based Strategy in the Authorization Section.

spring.datasource.url=jdbc:mysql://mysqldbhost:3306/petclinic?createDatabaseIfNotExist=true

================================================================================================================================================================
Kubernetes Namespace and Context

kubectl create namespace demo
kubectl config view
kubectl config get-contexts
kubectl config set-context demoContext --namespace=demo --user=kubernetes-admin --cluster=kubernetes
kubectl config current-context

assign role to worker nodes :
	kubectl label node cb2.4xyz.couchbase.com node-role.kubernetes.io/worker=worker
	
docker commit 029eac776c1b websocks:websock-front-end
 
socks-microservice demo : https://raw.githubusercontent.com/microservices-demo/microservices-demo/master/deploy/kubernetes/complete-demo.yaml
Sock Git Hub Repository : https://github.com/microservices-demo/microservices-demo.git

FROM tomcat:9-jre8 
ADD cart-datasvc.war /usr/local/tomcat/webapps/ 
CMD ["catalina.sh", "run"] 
 



docker build --file=dockerFile-cart-presentation --tag=cart-presentation .
docker build --file=dockerFile-cart-biz --tag=cart-business .
docker build --file=dockerFile-cart-data --tag=cart-data .


docker save cart-presentation | bzip2 | ssh root@192.168.11.54 'bunzip2 | docker load'

		docker save cart-presentation | bzip2 | ssh root@192.168.9.65 'bunzip2 | docker load' 
 

		docker save cart-business | bzip2 | ssh root@192.168.11.54 'bunzip2 | docker load'

docker save cart-business | bzip2 | ssh root@192.168.9.65 'bunzip2 | docker load' 

docker save cart-data | bzip2 | ssh root@192.168.11.54 'bunzip2 | docker load'

docker save cart-data | bzip2 | ssh root@192.168.9.65 'bunzip2 | docker load' 

docker history --no-trunc=true image1


docker save -o /webstore-mysql.tar webstore-mysql
scp /webstore-mysql.tar root@192.168.9.65:/
scp /webstore-mysql.tar root@192.168.11.54:/

docker save -o /cart-business.tar cart-business
scp /cart-business.tar root@192.168.9.65:/
scp /cart-business.tar root@192.168.11.54:/

docker save -o /cart-presentation.tar cart-presentation
scp /cart-presentation.tar root@192.168.9.65:/
scp /cart-presentation.tar root@192.168.11.54:/

egurkha

kubectl exec -it pod/mysql-cd59c5b7d-gjlqk -n webstore-data /bin/bash
kubectl cp /kubernetesDir/webstore/controller.js webstore-presentation/webstore-55b468bd78-z69bk:/tmp/controller.js
mysql -u root -proot < webstoredb.sql

docker load -i webstore.tar
docker load -i webstore-quote.tar
docker load -i webstore-products.tar
docker load -i webstore-payment.tar
docker load -i webstore-order.tar
docker load -i webstore-customers.tar
docker load -i webstore-core.tar
docker load -i webstore-attributes.tar


sshpass -p egurkha ssh root@192.168.11.54 hostname 
sshpass -p egurkha ssh root@192.168.11.54 hostname 
sshpass -p egurkha ssh root@192.168.11.54 hostname 
sshpass -p egurkha ssh root@192.168.11.54 hostname 
sshpass -p egurkha ssh root@192.168.11.54 hostname 
sshpass -p egurkha ssh root@192.168.11.54 hostname 
sshpass -p egurkha ssh root@192.168.11.54 hostname 
sshpass -p egurkha ssh root@192.168.11.54 hostname 
 
docker save webstore > webstore.tar
sshpass -p "egurkha@123" scp webstore.tar root@192.168.9.65:/webstore/
sshpass -p "egurkha" scp webstore.tar  root@192.168.11.54:/webstore/
sshpass -p egurkha ssh root@192.168.11.54 docker rmi -f webstore
sshpass -p egurkha@123 ssh root@192.168.9.65 docker rmi -f webstore
sshpass -p egurkha ssh root@192.168.11.54 docker load -i /webstore/webstore.tar
sshpass -p egurkha@123 ssh root@192.168.11.65 docker load -i /webstore/webstore.tar



http://webstore-core/webstore-core
http://webstore-products/webstore-products
http://webstore-customers/webstore-customers
http://webstore-attributes/webstore-attributes
http://webstore-payment/webstore-payment
http://webstore-quote/webstore-quote
http://webstore-order/webstore-order


dyantrace one agent - rijelapo@imaild.com
passToken = token - cH2tvF2ATyK0mX07o4dMA
api token KPfSBMwIRSCFuwWWXrimL
kubectl -n dynatrace create secret generic oneagent --from-literal="apiToken=KPfSBMwIRSCFuwWWXrimL" --from-literal="paasToken=cH2tvF2ATyK0mX07o4dMA"

connection name - Dynatrace-eks 
url -  https://CCC8DA79B5D9808771E016A19ED932F0.yl4.ap-south-1.eks.amazonaws.com
	   
Bearer Token - eyJhbGciOiJSUzI1NiIsImtpZCI6IiJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJkeW5hdHJhY2UiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiZHluYXRyYWNlLW1vbml0b3JpbmctdG9rZW4tdGQyejIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoiZHluYXRyYWNlLW1vbml0b3JpbmciLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiIyN2I1MWExYS1mNjQ0LTExZTktOGJjOC0wMmY5NTdjNTA5MzgiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6ZHluYXRyYWNlOmR5bmF0cmFjZS1tb25pdG9yaW5nIn0.xwdPeTCsNfxrYL6e_27LHRO9gLOa7SHanY2qnW92RKM_Jk5uYHQ69dCev-CfuEFFZ9ZDoBuO2N_e5w3MDhfSENZb-8adQlnFSzhvrMiOiS4CAXbC2EWn-Eh7wtjnJtEELtUk3wNNogyIVmQxBv57x6ELhtIwF9uPj92-7jjOiOCgZ5IMS2QHz-e5PR7wlGpLj94OUfPaEWGXDpl0MEyRcOPmTXam3bI6aeVmsRozQm0QUs11M8DwPFgqeSSJrLvKsqK48MPHy9ezibQjMaI0n8nxyjrDa2LgmrEZW6uq7cNUpPJMdwBhwAGacOczii8-LIjXCfpcQRGPRRSYYUYIbg
			   eyJhbGciOiJSUzI1NiIsImtpZCI6IiJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJkeW5hdHJhY2UiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiZHluYXRyYWNlLW1vbml0b3JpbmctdG9rZW4tdGQyejIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoiZHluYXRyYWNlLW1vbml0b3JpbmciLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiIyN2I1MWExYS1mNjQ0LTExZTktOGJjOC0wMmY5NTdjNTA5MzgiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6ZHluYXRyYWNlOmR5bmF0cmFjZS1tb25pdG9yaW5nIn0.xwdPeTCsNfxrYL6e_27LHRO9gLOa7SHanY2qnW92RKM_Jk5uYHQ69dCev-CfuEFFZ9ZDoBuO2N_e5w3MDhfSENZb-8adQlnFSzhvrMiOiS4CAXbC2EWn-Eh7wtjnJtEELtUk3wNNogyIVmQxBv57x6ELhtIwF9uPj92-7jjOiOCgZ5IMS2QHz-e5PR7wlGpLj94OUfPaEWGXDpl0MEyRcOPmTXam3bI6aeVmsRozQm0QUs11M8DwPFgqeSSJrLvKsqK48MPHy9ezibQjMaI0n8nxyjrDa2LgmrEZW6uq7cNUpPJMdwBhwAGacOczii8-LIjXCfpcQRGPRRSYYUYIbg
dynatrace -one-agent : https://www.dynatrace.com/support/help/technology-support/cloud-platforms/kubernetes/installation-and-operation/full-stack/deploy-oneagent-on-kubernetes/#expand-1397custom-resource-snippet

instana user  name - toda@ezmail.top
password - Toda@ezmail.top	

to run docker images

docker run -itd -v /opt/egbtm/:/opt/egbtm -p 8080:8080 pull egapm/springboot:petclinic-tomcat-oraclejdk8jre
docker run -itd -v /opt/egbtm/:/opt/egbtm -p 8090:8080 pull egapm/springboot:petclinic-jetty-oraclejdk8jre
docker run -itd -v /opt/egbtm/:/opt/egbtm -p 9090:8080 pull egapm/springboot:petclinic-undertow-oraclejdk8jre
docker run -itd -v /opt/egbtm/:/opt/egbtm -p 9080:8080 egapm/traditional-app-srv:trd-wildfly-18-0-0-petclnic-jdk-11
docker run -itd -v /opt/egbtm/:/opt/egbtm -p 8181:8080 egapm/traditional-app-srv:trd-jboss7-2-1-petclinic

docker run -it -p 9191:8080 -v /opt/egbtm:/opt/egbtm -e JAVA_OPTS="-javaagent:/opt/egbtm/eg_btm.jar -Dserver.port=8080" --rm egapm/springboot:petclinic-tomcat-openjdk8jre

docker run -it  -v /opt/egbtm:/opt/egbtm -e JAVA_OPTS="-javaagent:/opt/egbtm/eg_btm.jar -Dserver.port=8081" -p 9191:8081 --rm egapm/springboot:petclinic-tomcat-openjdk8jre

docker run -it  -p 9191:8443 -v /opt/egbtm:/opt/egbtm -e JAVA_OPTS="-javaagent:/opt/egbtm/eg_btm.jar -Dserver.port=8443 -Dsecurity.require-ssl=true -Dserver.ssl.key-store-type=PKCS12 -Dserver.ssl.key-store=classpath:petclinic.p12 -Dserver.ssl.key-store-password=changeit -Dserver.ssl.key-alias=petclinic" --rm egapm/springboot:petclinic-tomcat-openjdk8jre


Clean Linux Cache: 
sync; echo 1 > /proc/sys/vm/drop_caches
sync; echo 2 > /proc/sys/vm/drop_caches
sync; echo 3 > /proc/sys/vm/drop_caches
===============================================================================================================================================================================================================
Webstore:

product - 4040
quote - 5050
customer - 7070
order - 6060
payment - 9090




vateg73274@p5mail.com
gebiti8711@provamail.com